import{a as L,c as R}from"./chunk-SJ62V47W.js";import{a as z}from"./chunk-UAU5ASY2.js";import{d as P,g as A,l as N,n as O,q as K,r as B,s as V,w as j}from"./chunk-7TKS4KVV.js";import{d as W}from"./chunk-LHRQNHW5.js";import"./chunk-J73STOSX.js";import"./chunk-RWF2ZYCY.js";import{Cc as o,Db as x,Dc as s,Ec as I,Hc as f,Ic as E,Jb as _,Jc as g,Ld as T,Sb as d,cc as e,dc as t,ec as k,ic as y,mc as C,ob as r,oc as c,sc as D,tc as b,ub as S,vd as w,wd as F,xa as v,ya as M}from"./chunk-WLVN7P5V.js";import{e as J,f as h}from"./chunk-EQDQRRRY.js";var G=J(z());function H(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand0)}}function Q(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand1)}}function U(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand2)}}function X(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand3)}}function Y(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand4)}}function Z(a,u){if(a&1&&(e(0,"td")(1,"a",32),o(2),t()()),a&2){let i=c().$implicit;r(2),s(i.stockonhand5)}}function $(a,u){if(a&1){let i=y();e(0,"tr")(1,"td")(2,"a",32),o(3),t()(),e(4,"input",33),g("ngModelChange",function(n){let p=v(i).$implicit;return E(p.amou,n)||(p.amou=n),M(n)}),t(),_(5,H,3,1,"td",34)(6,Q,3,1,"td",34)(7,U,3,1,"td",34)(8,X,3,1,"td",34)(9,Y,3,1,"td",34)(10,Z,3,1,"td",34),t()}if(a&2){let i=u.$implicit,l=c();r(3),s(i.goodname),r(),D("name","amou_",i.id,""),f("ngModel",i.amou),r(),d("ngIf",l.formData.fromstock=="stockonhand0"),r(),d("ngIf",l.formData.fromstock=="stockonhand1"),r(),d("ngIf",l.formData.fromstock=="stockonhand2"),r(),d("ngIf",l.formData.fromstock=="stockonhand3"),r(),d("ngIf",l.formData.fromstock=="stockonhand4"),r(),d("ngIf",l.formData.fromstock=="stockonhand5")}}var q=(()=>{class a{constructor(i,l){this.service=i,this.router=l,this.stockinfo=[],this.user=null,this.formData={fromstock:"0",tostock:"0",usrid:"",remark:"",list:[]},this.x=this.formData.fromstock}ngOnInit(){return h(this,null,function*(){this.user=JSON.parse(localStorage.getItem("user")||"null");try{this.stockinfo=yield this.service.GetStockInfo()}catch(i){console.error("API failed:",i),alert("API failed")}})}getStockName(i){return{0:"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07",stockonhand0:"GorillaStock",stockonhand1:"K'KitStock",stockonhand2:"K'TorStock",stockonhand3:"PR Stock",stockonhand4:"Dealer Stock",stockonhand5:"Other"}[i]??"\u0E44\u0E21\u0E48\u0E1E\u0E1A\u0E04\u0E25\u0E31\u0E07"}onSave(){return h(this,null,function*(){if(this.formData.fromstock=="0"||this.formData.tostock=="0")alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E04\u0E25\u0E31\u0E07\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32");else{let i={fromstock:this.formData.fromstock,tostock:this.formData.tostock,usrid:this.user?.usrcode,remark:this.formData.remark,list:this.stockinfo.filter(n=>n.amou&&n.amou>0).map(n=>({goodid:n.id,amou:n.amou}))},l=new R(i.fromstock,i.tostock,i.usrid??"",i.remark,i.list);try{yield this.service.Tranfer(l),G.default.fire({title:"Success",icon:"success",draggable:!0}),this.router.navigate(["/dashboard/default"])}catch(n){console.error("API failed:",n),alert("API failed")}}})}static{this.\u0275fac=function(l){return new(l||a)(S(L),S(W))}}static{this.\u0275cmp=x({type:a,selectors:[["app-file-manager"]],decls:79,vars:11,consts:[[1,"container-fluid","mt-5"],[1,"edit-profile"],[1,"row"],[1,"col-xl-4"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-options"],["href","javascript:void(0)",1,"card-options-collapse"],[1,"fe","fe-chevron-up"],["href","javascript:void(0)",1,"card-options-remove"],[1,"fe","fe-x"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["name","fromstock",1,"form-control","btn-square",3,"ngModelChange","ngModel"],["value","0"],["value","stockonhand0"],["value","stockonhand1"],["value","stockonhand2"],["value","stockonhand3"],["value","stockonhand4"],["value","stockonhand5"],["name","tostock",1,"form-control","btn-square",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder","disabled"],["placeholder","","type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-footer"],[1,"btn","btn-primary","btn-block",3,"click","disabled"],[1,"col-xl-8"],[1,"table-responsive","add-project","custom-scrollbar"],[1,"table","card-table","table-vcenter","text-nowrap"],[4,"ngFor","ngForOf"],[1,"text-inherit"],["type","number",1,"form-control",3,"ngModelChange","ngModel","name"],[4,"ngIf"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),o(7,"Tranfer Stock"),t(),e(8,"div",7)(9,"a",8),k(10,"i",9),t(),e(11,"a",10),k(12,"i",11),t()()(),e(13,"div",12)(14,"div",13)(15,"label",14),o(16,"\u0E22\u0E49\u0E32\u0E22\u0E08\u0E32\u0E01\u0E2A\u0E15\u0E47\u0E2D\u0E04"),t(),e(17,"select",15),g("ngModelChange",function(m){return E(n.formData.fromstock,m)||(n.formData.fromstock=m),m}),e(18,"option",16),o(19,"--Select--"),t(),e(20,"option",17),o(21,"GorillaStock"),t(),e(22,"option",18),o(23,"K'KitStock"),t(),e(24,"option",19),o(25,"K'TorStock"),t(),e(26,"option",20),o(27,"PR Stock"),t(),e(28,"option",21),o(29,"Dealer Stock"),t(),e(30,"option",22),o(31,"Other"),t()()(),e(32,"div",13)(33,"label",14),o(34,"\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E15\u0E47\u0E2D\u0E04"),t(),e(35,"select",23),g("ngModelChange",function(m){return E(n.formData.tostock,m)||(n.formData.tostock=m),m}),e(36,"option",16),o(37,"--Select--"),t(),e(38,"option",17),o(39,"GorillaStock"),t(),e(40,"option",18),o(41,"K'KitStock"),t(),e(42,"option",19),o(43,"K'TorStock"),t(),e(44,"option",20),o(45,"PR Stock"),t(),e(46,"option",21),o(47,"Dealer Stock"),t(),e(48,"option",22),o(49,"Other"),t()()(),e(50,"div",13)(51,"label",14),o(52,"\u0E22\u0E49\u0E32\u0E22\u0E42\u0E14\u0E22"),t(),e(53,"input",24),g("ngModelChange",function(m){return E(n.formData.usrid,m)||(n.formData.usrid=m),m}),t()(),e(54,"div",13)(55,"label",14),o(56,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),t(),e(57,"input",25),g("ngModelChange",function(m){return E(n.formData.remark,m)||(n.formData.remark=m),m}),t()(),e(58,"div",26)(59,"button",27),C("click",function(){return n.onSave()}),o(60,"Save"),t()()()()(),e(61,"div",28)(62,"div",4)(63,"div",5)(64,"h4",6),o(65,"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E22\u0E49\u0E32\u0E22"),t()(),e(66,"div",29)(67,"table",30)(68,"thead")(69,"tr")(70,"th"),o(71,"Product Name"),t(),e(72,"th"),o(73,"\u0E08\u0E33\u0E19\u0E27\u0E19"),t(),e(74,"th"),o(75),t(),k(76,"th"),t()(),e(77,"tbody"),_(78,$,11,10,"tr",31),t()()()()()()()()),l&2&&(r(17),f("ngModel",n.formData.fromstock),r(18),f("ngModel",n.formData.tostock),r(18),b("placeholder","",n.user==null?null:n.user.fristname," ",n.user==null?null:n.user.lastname,""),f("ngModel",n.formData.usrid),d("disabled",!0),r(4),f("ngModel",n.formData.remark),r(2),d("disabled",(n.user==null?null:n.user.row)!="admin"),r(16),I("\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E25\u0E31\u0E07 (",n.getStockName(n.formData.fromstock),")"),r(3),d("ngForOf",n.stockinfo))},dependencies:[T,w,F,j,B,V,P,O,K,A,N],encapsulation:2})}}return a})();var se=[{path:"",component:q}];export{se as FileManager};
