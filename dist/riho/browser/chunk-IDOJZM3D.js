import{a as D,b as k,c as q}from"./chunk-233UN773.js";import{a as Y,b as U}from"./chunk-OSUJUNKR.js";import{a as j}from"./chunk-ITI55IIQ.js";import{a as C}from"./chunk-SJ62V47W.js";import"./chunk-UAU5ASY2.js";import{J as Q,t as K}from"./chunk-WM2E7EKX.js";import{d as W,g as H,l as z,w as _,x as J}from"./chunk-7TKS4KVV.js";import"./chunk-LHRQNHW5.js";import"./chunk-J73STOSX.js";import"./chunk-RWF2ZYCY.js";import{Cc as i,Db as g,Dc as S,Ec as d,Fd as $,Hc as T,Ic as A,Jb as w,Jc as B,Ld as b,Sb as x,Ub as V,Uc as L,Wc as F,Yc as R,cc as e,dc as t,ec as y,ic as I,mc as c,ob as a,oc as M,ub as v,vc as X,vd as O,wc as G,xa as h,xc as N,ya as f}from"./chunk-WLVN7P5V.js";import{e as P,f as p}from"./chunk-EQDQRRRY.js";var ie=P(q());var te=(()=>{class l{constructor(n){this.service=n,this.isopen=!1,this.revenugrowth=JSON.parse(JSON.stringify(le)),this.data=[],this.datatotal=[],this.now=0,this.total=0,this.last=0}ngOnInit(){return p(this,null,function*(){this.data=yield this.service.GetSummary(),this.datatotal=yield this.service.GetAllSummary(),this.loadChartFromSummary()})}loadChartFromSummary(){let n=new Array(12).fill(0);this.data.forEach(o=>{n[o.month-1]=o.total_sum}),this.revenugrowth.series=[{name:"Online Sale",data:n}]}open(){this.isopen=!this.isopen}clickOutside(){this.isopen=!1}static{this.\u0275fac=function(o){return new(o||l)(v(C))}}static{this.\u0275cmp=g({type:l,selectors:[["app-revenue-growth"]],decls:71,vars:19,consts:[[1,"card",3,"clickOutside"],[1,"card-header","sales-chart","card-no-border"],[1,"sales-chart-dropdown"],[1,"balance-data"],[1,"circle","bg-warning"],[1,"ms-1","f-w-400"],[1,"circle","bg-primary"],[1,"sales-chart-dropdown-select"],[1,"card-header-right-icon","online-store"],[1,"dropdown"],["id","dropdownMenuButton1",1,"btn","dropdown-toggle",3,"click"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item"],[1,"card-body","pt-0"],[1,"row"],[1,"col-xxl-8","col-xl-12"],[1,"revenuegrowth"],["id","revenuegrowth",1,"revenuegrowth-chart"],[3,"series","chart","stroke","markers","plotOptions","dataLabels","colors","legend","fill","grid","yaxis","xaxis","responsive","tooltip"],[1,"col-xxl-4","col-xl-4","d-xxl-block","d-none"],[1,"revenuegrowth-details"],[1,"growth-details"],[1,"f-light","f-12","text-uppercase"],[1,"f-w-500","mb-2"],[1,"d-flex","justify-content-center","align-items-center","gap-2","mb-4"],[1,"mb-0","f-w-500","f-12"],[1,"f-light","f-12","f-w-500"],[1,"txt-secondary","f-12","f-w-500"],[1,"d-flex","justify-content-center","align-items-center","gap-2"],[1,"f-w-500","f-light","f-12"]],template:function(o,r){if(o&1&&(e(0,"div",0),c("clickOutside",function(){return r.clickOutside()}),e(1,"div",1)(2,"h4"),i(3,"Revenue Growth "),t(),e(4,"div",2)(5,"ul",3)(6,"li"),y(7,"span",4),e(8,"span",5),i(9,"Marketing Sale"),t()(),e(10,"li"),y(11,"span",6),e(12,"span",5),i(13,"Online Sale"),t()()(),e(14,"div",7)(15,"div",8)(16,"div",9)(17,"div",9)(18,"button",10),c("click",function(){return r.open()}),i(19,"This Year"),t(),e(20,"div",11)(21,"span",12),i(22,"Last Month"),t(),e(23,"span",12),i(24,"Last Week "),t(),e(25,"span",12),i(26,"Today"),t()()()()()()()(),e(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16)(31,"div",17),y(32,"apx-chart",18),t()()(),e(33,"div",19)(34,"div",20)(35,"div",21)(36,"span",22),i(37,"\u0E22\u0E2D\u0E14\u0E02\u0E32\u0E22\u0E40\u0E14\u0E37\u0E2D\u0E19\u0E19\u0E35\u0E49"),t(),e(38,"h4",23),i(39),t(),e(40,"div",24)(41,"p",25),i(42,"Compared to "),t(),e(43,"span",26),i(44,"(+...%than)"),t(),e(45,"p",25),i(46,"last year "),t()()(),e(47,"div",21)(48,"span",22),i(49,"\u0E22\u0E2D\u0E14\u0E02\u0E32\u0E22\u0E40\u0E14\u0E37\u0E2D\u0E19\u0E01\u0E48\u0E2D\u0E19 "),t(),e(50,"h4",23),i(51),t(),e(52,"div",24)(53,"p",25),i(54,"Compared to "),t(),e(55,"span",27),i(56,"(+...% than) "),t(),e(57,"p",25),i(58,"last year "),t()()(),e(59,"div",21)(60,"span",22),i(61,"\u0E22\u0E2D\u0E14\u0E02\u0E32\u0E22\u0E23\u0E27\u0E21\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),t(),e(62,"h4",23),i(63),t(),e(64,"div",28)(65,"p",25),i(66,"Compared to "),t(),e(67,"span",29),i(68,"(+...% than) "),t(),e(69,"p",25),i(70,"last year "),t()()()()()()()()),o&2){let m,s,u;a(20),V("show",r.isopen),a(12),x("series",r.revenugrowth.series)("chart",r.revenugrowth.chart)("stroke",r.revenugrowth.stroke)("markers",r.revenugrowth.markers)("plotOptions",r.revenugrowth.plotOptions)("dataLabels",r.revenugrowth.dataLabels)("colors",r.revenugrowth.colors)("legend",r.revenugrowth.legend)("fill",r.revenugrowth.fill)("grid",r.revenugrowth.grid)("yaxis",r.revenugrowth.yaxis)("xaxis",r.revenugrowth.xaxis)("responsive",r.revenugrowth.responsive)("tooltip",r.revenugrowth.tooltip),a(7),d("",(m=r.datatotal[0].salesthismonth)!==null&&m!==void 0?m:0," "),a(12),S((s=r.datatotal[0].saleslastmonth)!==null&&s!==void 0?s:0),a(12),d("",(u=r.datatotal[0].totalsales)!==null&&u!==void 0?u:0," ")}},dependencies:[U,Y,j,_,b],encapsulation:2})}}return l})(),le={series:[{name:"Online Sale",data:[]}],colors:["var(--theme-deafult)"],chart:{type:"area",height:315,toolbar:{tools:{zoom:!1,zoomin:!1,zoomout:!1,reset:!1,pan:!1,download:!1}}},fill:{gradient:{opacityFrom:.2,opacityTo:0,shadeIntensity:.2}},markers:{discrete:[]},legend:{show:!1},stroke:{curve:"stepline",width:2},dataLabels:{enabled:!1},grid:{show:!0,strokeDashArray:3,borderColor:["var(--chart-border)"],xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],labels:{style:{colors:new Array(12).fill("var(--body-font-color)")}},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{labels:{style:{colors:["var(--body-font-color)"]},formatter:l=>`${l}`}},tooltip:{y:{formatter:function(l){return`$${l}`}}},responsive:[{breakpoint:425,options:{chart:{height:250}}}]};function se(l,E){if(l&1&&(e(0,"tr")(1,"th",12),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td"),i(14),t(),e(15,"td"),i(16),t(),e(17,"td"),i(18),t()()),l&2){let n=E.$implicit;a(2),S(n.id),a(2),d(" ",n.goodname," "),a(2),d(" ",n.stockonhand0," "),a(2),d(" ",n.stockonhand1," "),a(2),d(" ",n.stockonhand2," "),a(2),d(" ",n.stockonhand3," "),a(2),d(" ",n.stockonhand4," "),a(2),d(" ",n.stockonhand5," "),a(2),d(" ",n.stockonhand0+n.stockonhand1+n.stockonhand2," ")}}var ne=(()=>{class l{constructor(n){this.service=n,this.stockinfo=[]}ngOnInit(){return p(this,null,function*(){try{this.stockinfo=yield this.service.GetStockInfo()}catch(n){console.error("API failed:",n),alert("API failed")}})}exportToExcel(){let n=k.json_to_sheet(this.stockinfo.map(s=>({ID:s.id,ProductName:s.goodname,GorillaStock:s.stockonhand0,KitStock:s.stockonhand1,TorStock:s.stockonhand2,PRStock:s.stockonhand3,DealerStock:s.stockonhand4,Other:s.stockonhand5,TotalStock:s.stockonhand0+s.stockonhand1+s.stockonhand2}))),o=k.book_new();k.book_append_sheet(o,n,"Stock");let r=D(o,{bookType:"xlsx",type:"array"}),m=new Blob([r],{type:"application/octet-stream"});(0,ie.saveAs)(m,"StockReport.xlsx")}static{this.\u0275fac=function(o){return new(o||l)(v(C))}}static{this.\u0275cmp=g({type:l,selectors:[["app-default"]],decls:36,vars:1,consts:[[1,"container-fluid","mt-5"],[1,"row","size-column"],[1,"col-xl-12","col-md-12","box-col-12"],[1,"col-xxl-12","col-xl-12","box-col-12"],[1,"card"],[1,"table-responsive","custom-scrollbar"],[1,"card-body"],[1,"card-header","card-no-border","total-revenue"],[3,"click"],[1,"table","table-striped","data-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),y(3,"app-revenue-growth"),t(),e(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h4"),i(10,"Stock LifeShine"),t(),e(11,"a",8),c("click",function(){return r.exportToExcel()}),i(12,"\u{1F4E4} \u0E14\u0E32\u0E27\u0E19\u0E4C\u0E42\u0E2B\u0E25\u0E14 Excel"),t()(),e(13,"table",9)(14,"thead")(15,"tr")(16,"th",10),i(17,"#"),t(),e(18,"th",10),i(19,"Product Name"),t(),e(20,"th",10),i(21,"GorillaStock"),t(),e(22,"th",10),i(23,"K'KitStock"),t(),e(24,"th",10),i(25,"K'TorStock"),t(),e(26,"th",10),i(27,"PR Stock"),t(),e(28,"th",10),i(29,"Dealer Stock"),t(),e(30,"th",10),i(31,"Other"),t(),e(32,"th",10),i(33,"Total StockOnHand0"),t()()(),e(34,"tbody"),w(35,se,19,9,"tr",11),t()()()()()()()()),o&2&&(a(35),x("ngForOf",r.stockinfo))},dependencies:[b,O,te,_,J,Q],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return l})();var re=P(q());var ue=["secondDialog"];function ce(l,E){if(l&1){let n=I();e(0,"tr",7),c("click",function(){let r=h(n).$implicit,m=M();return f(m.pop(r))}),e(1,"th",21),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),L(7,"date"),t(),e(8,"td"),i(9),t(),e(10,"td"),i(11),t(),e(12,"td"),i(13),t()()}if(l&2){let n=E.$implicit,o=E.index;a(2),S(o+1),a(2),d(" ",n.ordernumb," "),a(2),d(" ",F(7,6,n.timecreate,"dd/MM/yyyy(HH:mm)")," "),a(3),d(" ",n.branch," "),a(2),d(" ",n.totalprice," "),a(2),d(" ",n.remark," ")}}function Ee(l,E){if(l&1&&(e(0,"tr")(1,"th",21),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t()()),l&2){let n=E.$implicit,o=E.index;a(2),S(o+1),a(2),d(" ",n.productname," "),a(2),d(" ",n.amou," "),a(2),d(" ",n.unitprice," "),a(2),d(" ",n.ispro=="1"?"\u0E42\u0E1B\u0E23\u0E42\u0E21\u0E0A\u0E31\u0E48\u0E19":"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E1B\u0E01\u0E15\u0E34"," ")}}function pe(l,E){if(l&1){let n=I();e(0,"div",22)(1,"h4",23),i(2),t()(),e(3,"div",24)(4,"div",25)(5,"div",26)(6,"p",27),i(7),L(8,"date"),t(),e(9,"p",27),i(10),t(),e(11,"p",27),i(12),t(),e(13,"p",27),i(14),t(),e(15,"p",27),i(16),t()(),e(17,"div",28)(18,"table",18)(19,"thead")(20,"tr")(21,"th",19),i(22,"#"),t(),e(23,"th",19),i(24,"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32"),t(),e(25,"th",19),i(26,"\u0E08\u0E33\u0E19\u0E27\u0E19"),t(),e(27,"th",19),i(28,"\u0E23\u0E32\u0E04\u0E32\u0E15\u0E48\u0E2D\u0E2B\u0E19\u0E48\u0E27\u0E22"),t(),e(29,"th",19),i(30,"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17"),t()()(),e(31,"tbody"),w(32,Ee,11,5,"tr",29),t()()()()(),e(33,"div",30)(34,"button",31),c("click",function(){let r=h(n).close;return f(r("Close click"))}),i(35,"\u0E1B\u0E34\u0E14"),t()()}if(l&2){let n=M();a(2),d("Order : ",n.order==null?null:n.order.ordernumb,""),a(5),d("\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E2A\u0E23\u0E49\u0E32\u0E07 : ",F(8,7,n.order==null?null:n.order.timecreate,"dd/MM/yyyy(HH:mm)"),""),a(3),d("\u0E2A\u0E31\u0E48\u0E07\u0E08\u0E32\u0E01 : ",n.order==null?null:n.order.branch,""),a(2),d("\u0E23\u0E32\u0E04\u0E32 : ",n.order==null?null:n.order.totalprice,""),a(2),d("\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D : ",n.order==null?null:n.order.nameaddr,""),a(2),d("\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38 : ",n.order==null?null:n.order.remark,""),a(16),x("ngForOf",n.OrderListItem)}}var oe=(()=>{class l{constructor(n,o){this.service=n,this.modalService=o,this.from="",this.to="",this.OrderInfo=[],this.OrderListItem=[],this.order=null}ngOnInit(){return p(this,null,function*(){try{this.OrderInfo=yield this.service.GetOrderNow()}catch(n){console.error("API failed:",n),alert("API failed")}})}formatDateTime(n){let o=new Date(n),r=String(o.getDate()).padStart(2,"0"),m=String(o.getMonth()+1).padStart(2,"0"),s=o.getFullYear(),u=String(o.getHours()).padStart(2,"0"),ae=String(o.getMinutes()).padStart(2,"0");return`${r}/${m}/${s}(${u}:${ae})`}Search(){return p(this,null,function*(){try{this.OrderInfo=yield this.service.GetOrder(this.from,this.to)}catch(n){console.error("API failed:",n),alert("API failed")}})}pop(n){return p(this,null,function*(){this.order=null,this.order=n;try{this.OrderListItem=[],this.OrderListItem=yield this.service.GetOrderList(n.ordernumb)}catch(o){console.error("API failed:",o),alert("API failed")}this.modalService.open(this.secondDialog,{ariaLabelledBy:"modal-basic-title",size:"lg"})})}exportOrderTableToExcel(){let n=document.querySelector(".data-striped");if(!n)return;let o=k.table_to_book(n,{sheet:"Orders"}),r=D(o,{bookType:"xlsx",type:"array"}),m=new Blob([r],{type:"application/octet-stream"});(0,re.saveAs)(m,"OrderInfo.xlsx")}static{this.\u0275fac=function(o){return new(o||l)(v(C),v(K))}}static{this.\u0275cmp=g({type:l,selectors:[["app-ecommerce"]],viewQuery:function(o,r){if(o&1&&X(ue,7),o&2){let m;G(m=N())&&(r.secondDialog=m.first)}},decls:48,vars:3,consts:[["secondDialog",""],[1,"container-fluid","mt-5"],[1,"row"],[1,"col-xl-12","box-col-12"],[1,"card","height-equal"],[1,"card-header","total-revenue","card-no-border"],[1,"d-flex","align-items-center","gap-2"],[3,"click"],[1,"list-product-header",2,"margin-left","20px","margin-right","20px"],[1,"card","card-body","list-product-body"],[1,"row","row-cols-xl-5","row-cols-lg-4","row-cols-md-3","row-cols-sm-2","row-cols-2","g-3"],[1,"col"],[1,"form-label"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label",2,"color","white"],[1,"form-control","btn","btn-primary","btn-block",3,"click"],[1,"card-body","pt-0"],[1,"table-order","table-responsive","custom-scrollbar"],[1,"table","table-striped","data-striped"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["scope","row"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"card"],[1,"card-header"],[1,"mt-1","f-m-light"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark","font-fam",3,"click"]],template:function(o,r){if(o&1){let m=I();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4"),i(6,"Latest Orders"),t(),e(7,"div",6)(8,"a",7),c("click",function(){return h(m),f(r.exportOrderTableToExcel())}),i(9,"\u{1F4E4} \u0E14\u0E32\u0E27\u0E19\u0E4C\u0E42\u0E2B\u0E25\u0E14 Excel"),t()()(),e(10,"div",8)(11,"div")(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),i(16,"\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19"),t(),e(17,"input",13),B("ngModelChange",function(u){return h(m),A(r.from,u)||(r.from=u),f(u)}),t()(),e(18,"div",11)(19,"label",12),i(20,"\u0E2A\u0E34\u0E49\u0E19\u0E2A\u0E38\u0E14"),t(),e(21,"input",13),B("ngModelChange",function(u){return h(m),A(r.to,u)||(r.to=u),f(u)}),t()(),e(22,"div",11)(23,"label",14),i(24,"."),t(),e(25,"button",15),c("click",function(){return h(m),f(r.Search())}),i(26,"\u0E04\u0E49\u0E19\u0E2B\u0E32"),t()()()()()(),e(27,"div",16)(28,"div",17)(29,"table",18)(30,"thead")(31,"tr")(32,"th",19),i(33,"#"),t(),e(34,"th",19),i(35,"OrderNumb"),t(),e(36,"th",19),i(37,"\u0E40\u0E27\u0E25\u0E32\u0E2A\u0E23\u0E49\u0E32\u0E07"),t(),e(38,"th",19),i(39,"\u0E2D\u0E2D\u0E23\u0E4C\u0E40\u0E14\u0E2D\u0E23\u0E4C\u0E08\u0E32\u0E01"),t(),e(40,"th",19),i(41,"\u0E23\u0E32\u0E04\u0E32"),t(),e(42,"th",19),i(43,"\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E2B\u0E15\u0E38"),t()()(),e(44,"tbody"),w(45,ce,14,9,"tr",20),t()()()()()()()(),w(46,pe,36,10,"ng-template",null,0,R)}o&2&&(a(17),T("ngModel",r.from),a(4),T("ngModel",r.to),a(24),x("ngForOf",r.OrderInfo))},dependencies:[b,O,$,_,W,H,z],styles:["td[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return l})();var Pe=[{path:"",children:[{path:"default",component:ne,data:{title:"Default Dashboard",breadcrumb:"Default"}},{path:"ecommerce",component:oe,data:{title:"Order Management",breadcrumb:"OrderManagement"}}]}];export{Pe as dashboard};
